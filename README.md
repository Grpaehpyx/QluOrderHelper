# QluOrderHelper
python 实现图书馆自动预约/齐鲁工业大学


##### down下来后运行MAIN.PY即可，需要python3环境和一些第三方库

##### 关于验证码识别，可以用百度，超级鹰等第三方的orc，成功率是30%， 不断重试就行了，可以将图片灰度化等方法处理下提升成功率，这个项目是人工识别，只需要第一次登入的时候用到，主要流程是将验证码爬下来，然后键盘输入，后续提供web接口时可以尝试发邮件到用户邮箱里，用这样的形式来输入验证码
##### 整个过程应该只有一个js逆向，一个segment逆向，需要F12查找这个参数是怎么生成的
##### 为什么说自需要一次登入呢，因为只需要登入后在过期前刷新session就行了，1小时过期，起个后台线程50分钟定时访问刷新即可
可改进的点
##### 1.提供web接口，写个前端交互，目前是控制台交互
##### 2.多线程或多实例部署去抢座，但效果感觉不是很好，因为6.00抢座的人都提前打开了页面，准备好了参数，也是发一次请求，不一定抢得过，还得看网络
##### 3.目前只能配置抢一个位置，可以拓展一些配置5个，1个抢了10次没抢到就换一个，或者多线程同时抢，反正第一个抢到后后面的会返回提示
##### 4.可以做个用户模块，把多个用户要抢的信息持久化到数据库里，然后定时任务扫描表去抢，但是用户多了就会存在一个写放大问题，怎么做到比较多的用户在同一时刻抢座是需要考虑的点，
       另外最好提前一段时间将表里的数据载入内存，减少不必要的网络IO和磁盘IO时间消耗，抢完之后释放内存。
